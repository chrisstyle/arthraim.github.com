
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Artoirus</title>
	<meta name="author" content="Arthur Wang">

	
	<meta name="description" content="今晚欧洲杯就开打了。在Live Calendar里导入了这个日历之后，同步到Windows Phone上很爽。 在Google Calendar订阅好友的日历：euro2012calendar@gmail.com
直接访问这个地址，在最下面添加到Google Calendar &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Artoirus" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">Artoirus</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:Arthraim.github.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="https://www.google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:Arthraim.github.com">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/euro-2012-google-calendar-or-outlook-calendar/">
		
			2012欧洲杯Google,iCal,Outlook日历</a>
	</h2>
	<div class="entry-content">
		<p>今晚欧洲杯就开打了。在Live Calendar里导入了这个日历之后，同步到Windows Phone上很爽。</p>

<ol>
<li><p>在Google Calendar订阅好友的日历：euro2012calendar@gmail.com</p></li>
<li><p>直接访问<a href="https://www.google.com/calendar/embed?src=euro2012calendar%40gmail.com&amp;ctz=America/Denver">这个地址</a>，在最下面添加到Google Calendar</p></li>
<li><p>下载<a href="https://www.google.com/calendar/ical/euro2012calendar%40gmail.com/public/basic.ics">这个ics文件</a>导入到outlook, live calendar或iCal、iPhone等</p></li>
</ol>


<p><a href="/euro-2012-google-calendar-or-outlook-calendar/screen-shot-2012-06-08-at-3-08-39-pm/"><img src="/wp-content/uploads/Screen-Shot-2012-06-08-at-3.08.39-PM-500x298.png" alt="" /></a></p>

<p>原文地址：<a href="http://www.eurojoe.com/2012/06/01/euro-2012-google-calendar/">http://www.eurojoe.com/2012/06/01/euro-2012-google-calendar/</a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-06-08T23:10:57+08:00" pubdate data-updated="true">Jun 8<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/life/'>Life</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/git-prune-branch/">
		
			Git修剪分支</a>
	</h2>
	<div class="entry-content">
		<p>项目运转的久了，很多个人的战略的bugfix的feature的分支一堆一堆，今天忍不住想清理一些已经被合并的分支。这里用到了几个相关的git命令。</p>

<ul>
<li><p><code>git branch</code> 可以查看本地有的分支，当前分支之前有个*。</p></li>
<li><p><code>git branch -r</code> 查看所有远程的分支（不代表远程还有的分支）</p></li>
<li><p><code>git branch -a --color</code> 查看所有分支（<code>--color</code>加颜色，绿色是tracking的）</p></li>
<li><p><code>git branch -d TAG</code> 删除本地分支，如果这个分支有没有合并的提交，git会提示你改用 <code>-D</code> 强制删除（或干脆别删除！）</p></li>
<li><p><code>git push REMOTE :TAG</code> 删除远程REMOTE（比如一般叫origin）分支，注意分支名前加冒号</p></li>
<li><p><code>git remote prune REMOTE</code> 这个指令比较特殊，如果你在A仓库上<code>git fetch</code>过，在B仓库用上一条命令删除了远程分支，那么A仓库里 <code>git branch -r</code> 还是可以看到已经删掉的分支。这个时候可以用这个命令修剪这些分支。</p></li>
<li><p><code>git prune</code> 在本地也可以使用，不过作用我还真不清楚，官方用推荐用 <code>git gc</code></p></li>
</ul>


<p>记录下，git真的很萌的你们不要黑他。</p>

<p>以上。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-03-02T08:07:32+08:00" pubdate data-updated="true">Mar 2<span>nd</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/programing/'>Programing</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/mac-os-10-7-3-breaks-xcode-binary-validation/">
		
			Mac OS 10.7.3用xcode提交二进制文件验证失败</a>
	</h2>
	<div class="entry-content">
		<p>近日在提交一个app的时候发生了奇怪的错误。错误如下：</p>

<p><a href="/mac-os-10-7-3-breaks-xcode-binary-validation/icon-dimensions-dont-meet-the-size-requirements/"><img src="/wp-content/uploads/icon-dimensions-dont-meet-the-size-requirements.png" alt="" /></a></p>

<blockquote><p>iPhone/iPod Touch: Icon.png: icon dimensions (0 x 0) don&#8217;t meet the size requirements. The icon file must be 57x57 pixels, in .png format</p></blockquote>

<p>我使用的Xcode版本是4.2.1，其实一下子也懵了完全没头绪。我第一时间当然是以为我的Icon.png真的出问题了，因为偶尔我会自己用一个叫做prepo的app来把512的图标转成57像素的，所以我第一时间以为是它的问题。（因为它之前也把比如10k的blabla@2x.png转成了20k的blabla.png）。于是我用Photoshop重新转换了一个图标来试图解决这个错误，结果当然是失败了。</p>

<p>各种Google之后，问题被锁定到了Mac OS 10.7.3这个升级包上，升级了之后是第一次提交二进制文件。<a href="https://devforums.apple.com/message/611733">这个讨论</a>都已经说明了病灶在哪里。</p>

<p>Xcode提交当然还是存在问题，无法通过验证，而且暂时没法解决。但是办法还是有，使用更加原始的Application Loader来上传。于是我打开Application Loader并登陆之后问题又出现了。</p>

<p><a href="/mac-os-10-7-3-breaks-xcode-binary-validation/screen-shot-2012-02-10-at-12-16-13-pm/"><img src="/wp-content/uploads/Screen-Shot-2012-02-10-at-12.16.13-PM.png" alt="" /></a></p>

<p>嗯，自带的版本看来太老了。于是各种Google之后<a href="https://itunesconnect.apple.com/apploader/ApplicationLoader_2.5.1.dmg">新的版本</a>终于还是找到了。使用方法很简单，跟着向导一步一步做（前提是itunes connect上的应用已经waiting for upload状态）直到需要在硬盘选择文件。首先在Xcode里Product -> Build for -> Building for archiving。然后Xcode工程下Products目录，有个 工程名.app，右键Show in finder，在它的上一级目录里找到release版本的app。当然上传前要把它打包成zip文件，application loader不能指定.app。最后完成向导，文件终于上传成功鸟 -。- 然后可以等着review了。</p>

<p><strong>更新：</strong>好吧看到了新说法是只要装好Application Loader 2.5.1，重启xcode，clean工程，重新archive，然后就能通过验证了，不需要真的使用Application Loader上传。 没试过，不一定管用，可以试试看。</p>

<p>以上。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-02-13T04:27:59+08:00" pubdate data-updated="true">Feb 13<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/programing/'>Programing</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/abandon-arthraim-cn/">
		
			停用arthraim.cn域名</a>
	</h2>
	<div class="entry-content">
		<p>arthraim.cn的域名又到期了，因为之前的代理被卖到别的地方了所以很烦躁这个域名不要了.cn域名也实在是操蛋的可以。</p>

<pre><code>之前留着也只是为了做一个重定向，现在重定向了一年了搜索引擎什么的也应该反应过来了，所以就不要了吧。
</code></pre>

<p>再见arthraim.cn</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-01-06T22:52:15+08:00" pubdate data-updated="true">Jan 6<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/life/'>Life</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/arthur-s-2011-summary/">
		
			Arthur的2011年总结</a>
	</h2>
	<div class="entry-content">
		<p>还有一个小时2011年就过完了，末日年就在眼前。今年博客更新的非常少，当然我没有偷懒，公司从年底上马了新的产品之后我就全身心的投入到了新的工作里去了。</p>

<p>爱折客从去年年底开始慢慢开发到现在整一年，发展迅速，今天年终总结的时候说实话我也觉得很振奋，虽然始终我的兴趣点在social上而爱折客虽然有点像solomo，但是其实是没有social的成分的，所以我承认我并不是那么&#8221;爱&#8221;它。但是到了这个时候看着这个产品我觉得很自豪，我们是一群踏踏实实的童鞋们，没有开复老师呼风唤雨的本事，勤勤恳恳的做业绩，可能并不是很多人看到我们的成绩，但是我们很棒。</p>

<p>技术上，算是真正独立完成了一个web的客户端，初期也并没有存储全部和后面的api交互，后来做着做着后台越做越大mongodb越做越熟。另外转型iOS开发才是这一年真正拼了老命的事情，要感谢公司给我配了台iMac坦率说是动力的源泉，很有压力但是的确是动力。现在自豪的说app store上已经有5个app出自我手啦。因为要偶尔维护api，所以虽然没有系统的学不过接触了ruby on rails，很有魅力！</p>

<p>依然看了很多电影，没有去年多当然。依然看了很少书。动画几乎没看，剧集也是有一集没一集的追。在游戏上花的钱更多了，因为今年掌机换代了，入手了PSVita，也算是5年一次的大开销吧。</p>

<p>希望明年公司蒸蒸日上，希望自己大大进步。2012我来了。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-01-01T07:07:29+08:00" pubdate data-updated="true">Jan 1<span>st</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/life/'>Life</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/windows-phone-wbt/">
		
			Windows Phone版微博通</a>
	</h2>
	<div class="entry-content">
		<p>很久没有写博客了，已经有友联的童鞋抱怨了，最近这段时间很忙，几乎下班就没心情做自己的事情了。话说最近入手了一台WP7，三星focus，白菜价，手机丢了所以来不及等Nokia Lumia 800了，很急就入手了。话说这不是重点，我手痒然后卸掉了WP7sdk的beta2，装上了新的7.1，小玩了一下。</p>

<p>话说其实给WP7写应用还真的蛮好玩的，事实上marketplace实际上也比我想象的要热闹一点，所以还蛮有动力写点东西的，最近在公司写iOS的app，每天都是objective-c，捡起了以前的C#真是一下子觉得好厉害，一个天一个地啊，终于不用自己retain, release了。</p>

<p>对了写了两段还是没有说到重点，因为重点就一句话，在熟悉WP7的开发，所以写了个微博通的客户端，好吧只是调用api发个post的请求而已很简单，主要是自己熟悉一下。</p>

<p>对了东西已经开源了在<a href="https://github.com/Arthraim/WbtoMongo">这里</a></p>

<p>那写到这里就写完了。感叹一下，visual studio真的不错，现在.net的包管理也很方便！现在dotnet我已经算是局外人了，所以不嘴贫了 -。-</p>

<p>以上</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-12-12T00:53:41+08:00" pubdate data-updated="true">Dec 12<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/programing/'>Programing</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/ruby-is-horribl/">
		
			Ruby好可怕</a>
	</h2>
	<div class="entry-content">
		<p>接触ruby时间不长，用的机会就更少了，所以偶尔用一下的时候难免还要去翻翻文档什么的。维护某个后台的时候，有个随机输出的需求，所以我写了下面这样一段代码。</p>

<pre><code>def index
  ver = params[:version] == nil ? 'i' : params[:version]

  @preview_items = MyItem.where({:version =&gt; ver, :order.gt =&gt; 0}).order_by([:order, :desc])

  map = {}
  @preview_items.each do |item|
    order = item['order']
    map[order] = [] if map[order] == nil
    map[order].push(item)
  end

  @json_items = []
  map.keys.each do |key|
    arr = map[key]
    if arr.count == 1
      @json_items.push(arr[0])
    else
      @json_items.push(arr[rand(arr.count)])
    end
  end
  render json: @json_items, callback: params[:callback]
end
</code></pre>

<p>rails某个模型的index页面，具体做了什么呢？大概是四件事情：</p>

<ol>
<li><p>取参数version</p></li>
<li><p>在数据库查询该version并且order字段大于0的数据，根据order字段倒叙排列（数据库是mongodb，driver用mongoid）</p></li>
<li><p>遍历查询的结果建立一张以order为key，相应order的实体数组为value的表</p></li>
<li><p>遍历3中的表，每个order的数组中随机抽取一个元素作为这个order的唯一值</p></li>
</ol>


<p>最后把获取的新数据render。</p>

<p>看起来很满足什么的，就提交代码了。之后同事部署前，看了看这里的更新，然后最终把代码完全改掉了。只用了一行 =。=</p>

<pre><code>def index
  @json_items = MyItem.where({:version =&gt; params[:version] || 'i', :order.gt =&gt; 0}).order_by([:order, :desc])
    .group_by(&amp;:order).map {|k,v| v.sample}
  render json: @json_items, callback: params[:callback]
end
</code></pre>

<p>做的事情是完全一样的。</p>

<ol>
<li><p>他先看了取参数，不用三元，直接 || 一个默认值</p></li>
<li><p>然后他把第4步中的取随机的部分改了，因为数组中随机取一个元素，ruby直接有sample方法</p></li>
<li><p>然后他又觉得第四步可以更简单的调用hash的map方法，映射成另一个value = value.sample的map</p></li>
<li><p>最后他吃了顿中饭回来灵光一闪，终于发现第三步做的就是一个group_by的事情，ruby可以做这个事情</p></li>
</ol>


<p>于是，除了查询不变，所有的逻辑全部调用了ruby现成的方法完成了！哥落伍了…… 越发觉得ruby好强大。</p>

<p>BTW，帮我改代码的是@niedhui</p>

<p>以上……</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-09-11T20:40:56+08:00" pubdate data-updated="true">Sep 11<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/programing/'>Programing</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/nomethoderror-undefined-method-specifications/">
		
			NoMethodError: Undefined Method `specifications&#8217; &#8230;</a>
	</h2>
	<div class="entry-content">
		<p>今天在和同事说，我最喜欢写这样的文章了，很多人会碰到的异常，而且没有什么中文资料，可以给搜索引擎个好排名（喂你心机好重。好吧其实我的想法很伟大的哦，我是给以后会遇到一样问题的你造福哦~</p>

<p>重新搭新环境，先装了rvm，然后装上gem，用gem装了rails。之后呢问题就出来，尝试用bundle exec rake db:seeds的时候会出错，加上&#8211;track参数一看大概是这样子。</p>

<blockquote><p>undefined method `specifications&#8217; for &#8220;/Users/arthraim/.rvm/gems/ruby-1.9.2-p290&#8221;:String</p></blockquote>

<p>好像后面也不是特别重要了，只是这个问题比较费解，之前同事好像也遇到过。去Google了一下，居然是gem版本太高的关系，要把gem降级到早一些的版本。不想深究下去了，就说一下解决的办法好了。</p>

<blockquote><p>gem update &#8211;system 1.7.2</p></blockquote>

<p>之前我的版本是1.8.5，虽然不知道具体什么情况，不过1.7.2就可以了。话说gem update到老版本的方法好神奇 -。-</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-07-21T05:11:17+08:00" pubdate data-updated="true">Jul 21<span>st</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/programing/'>Programing</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/the-update-of-rubygems-causes-yaml-parsing-problem/">
		
			RubyGems升级造成yaml Parse错误</a>
	</h2>
	<div class="entry-content">
		<p>遇到个很蛋疼的问题，mongoid的配置文件（一个YAML）文件引发了下面这个错误：</p>

<blockquote><p>db_name must be a string or symbol</p></blockquote>

<pre><code>    ...MONGOID_PATH/lib/mongo/util/support.rb:50:in `validate_db_name'
</code></pre>

<blockquote></blockquote>

<p>Google到<a href="http://cstrahan.com/2011/05/14/mongoid-yaml-rails-conflict.html">这里</a>，知道原因是RubyGem v1.5.0开始把默认的yaml parser从syck改成了psych。</p>

<p>解决方法一当然是改你的yaml让它可以被parse，如果需要使用之前的parser，那要在config/environment.rb中加上以下两行</p>

<blockquote><p>require &#8216;yaml&#8217;</p></blockquote>

<pre><code>    YAML::ENGINE.yamler= 'syck'
</code></pre>

<blockquote></blockquote>

<p>话说这好像是第一次写ruby/rails的文章，刚刚玩了两三个星期~</p>

<p>以上</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-06-29T11:10:44+08:00" pubdate data-updated="true">Jun 29<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/programing/'>Programing</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2011-e3-press-conferences/">
		
			三大游戏主机厂商2011年E3展前发布会</a>
	</h2>
	<div class="entry-content">
		<p>在北京时间昨天0点30分，今天昨天上8点和今天凌晨0点，微软、索尼、任天堂三大游戏主机厂商的E3展前发布会依次召开。集结第一方第三方各种游戏阵容及对硬件平台的更新换代，三大厂商都给今年E3注入了一针兴奋剂，注定是一个同样不平凡的E3将要开始。</p>

<p>微软的展前发布会是最平淡的，大量的KINECT游戏介绍、XBOX LIVE的各种升级，以及其他CU（core user核心玩家）的软件，但是惟独缺少了新的硬件，无论是新外设还是X720，更别说微软掌机，一样都没有出现。唯一的亮点就是压轴的HALO4，这也是唯一让我骂娘的牛B消息。</p>

<p><a href="/2011-e3-press-conferences/2011_e3_microsoft/"><img src="/wp-content/uploads/2011_e3_microsoft-500x281.jpg" alt="" /></a></p>

<p>索尼的展前发布会之前，NGP已经在各种场合出现过了，伴随着PSN故障的道歉，各种软件的介绍，等到平井一夫上台的时候，大家知道今年的重头戏来了 &#8212;- NGP。和之前传闻一样，NGP的真名的确是Playstation Vita（生命）。当然PSV的硬件规格早就不是秘密，不过发售计划和价格才是人们关注的焦点，接近PS3技能的掌机，几乎应该是不敢想象的昂贵。不过事实证明索尼赢了，&#8221;业界最后的良心&#8221;是大家的评论，PSV售价24800日元（249.9美元），哪怕是3DS也要25000日元，索尼这个价格实在是太震撼了！</p>

<pre><code>另外索尼公布的3D电视利用LL/RR的眼镜原理可以让两名玩家看到完全不同的画面，这样一来夫妻两个盯着同一个屏幕一个看电视一个玩游戏的梦想不远了！唯一的遗憾是两个人都要带着有色眼镜看电视了。
</code></pre>

<p><a href="/2011-e3-press-conferences/2011_e3_sony/"><img src="/wp-content/uploads/2011_e3_sony-500x280.jpg" alt="" /></a></p>

<p>十来分钟前结束的任天堂展前发布会应该是最精彩的，在展前沸沸扬扬的project cafe新主机，以及后来爆出来的控制器上会有6寸液晶屏，这下都真相大白了。任氏一样用第一方的软件砸，然后第三方的阵容也的确是牛X。最震撼的是在发布会的最后一项，大肆介绍了新一代的主机WiiU。正是之前的控制器。但是这个东西很神奇，虽然猩猩和岩田聪都称之为：new controller。但EA和其他第三方纷纷称其：new platform, new console或new system。究竟只是一个wii的控制器还是一台新的家用机掌机合体，大家都应该明白了，毕竟wii是不支持HD的，其实project cafe的主机和控制器之和就是今天的wiiU，可不是只有一个控制器而已哦~</p>

<p><a href="/2011-e3-press-conferences/2011_e3_nintendo/"><img src="/wp-content/uploads/2011_e3_nintendo-500x281.png" alt="" /></a></p>

<p>E3每天都在恢复往日的气息，伴随着3DS/KINECT甚至NGP/WIIU的出现，E3也真的回来了，复苏了。势必明年的E3会有PS4 X720甚至WII2的出现，让我们好好欣赏今年的E3，并期待它有更大的发展吧~</p>

<p>以上。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-06-08T09:38:41+08:00" pubdate data-updated="true">Jun 8<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/video-game/'>Video Game</a>


</div>
	
</div></article>

<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2012

    Arthur Wang

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






</body>
</html>